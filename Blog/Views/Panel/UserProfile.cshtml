@*@model PostViewModel*@

@* @model IEnumerable<Post> *@

@model IEnumerable<HeaderPostViewModel>

@{
    //var base_path = Context.Request.PathBase;
    var UserName = Context.User.Identity.Name;
}



<!--получаем на вход коллекцию объектов Post -->

<link href="~/css/UserProfile.css" rel="stylesheet" />

<div class="user-profile">
    <h1>@UserName</h1>
    
    @{ await Html.RenderPartialAsync("PostsList"); }

@*     <div class="header">
        <h1>@UserName</h1>
        <a asp-controller="Panel" asp-action="Edit">Создать новую запись</a>
    </div>
    <ul>
        @foreach (var post in Model)
        {
            <li>
                <div class="li-wrapper_record">
                        @post.Title
                </div>
                <div class="li-buttons-wrapper">
                        <a asp-controller="Panel" asp-action="Edit" asp-route-id="@post.Id">
                            <!--Передаем на вход в метод Post Id поля БД-->
                            Редактировать
                        </a>
                        <a asp-controller="Panel" asp-action="Remove" asp-route-id="@post.Id">
                            <!--Передаем на вход в метод Post Id поля БД-->
                            Удалить
                        </a>
                </div>

            </li>
        }
</ul> *@
</div>




@*
<link href="~/css/UserProfile.css" rel="stylesheet" />

<div class="userProfile-body">
    <h1>Добро пожаловать в личный кабинет</h1>

    @foreach (var post in Model)
    {
        var image_path = $"{base_path}/Image/{post.Image}";
        // Вызовется метод Post с одним параметром id, заданном в атрибуте asp-route-id
        <a class="post" asp-controller="Home


" asp-action="Post" asp-route-id="@post.Id">
            <img src="@image_path" />
            <span class="title">
                @post.Title
            </span>
        </a>
    }
*@
    @*    @foreach (var post in Model.Posts) // пробегаемся по свойствам модели IndexVM
    {
    var image_path = $"{base_path}/Image/{post.Image}";
    // Вызовется метод Post с одним параметром id, заданном в атрибуте asp-route-id
    <a class="post" asp-controller="Home" asp-action="Post" asp-route-id="@post.Id">
    <img src="@image_path" />
    <span class="title">
    @post.Title
    </span>
    </a>
    }*@


    @*            @foreach (var post in Model)
    {
    <a asp-controller="Post" asp-action="UserProfile" asp-route-id="@post.Author">Мои посты</a>
    }*@
</div>